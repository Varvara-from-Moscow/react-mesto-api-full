{"ast":null,"code":"import _slicedToArray from\"/Users/varvarakorableva/Desktop/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import PopupWithForm from'./PopupWithForm';import{CurrentUserContext}from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var onClose=_ref.onClose,isOpen=_ref.isOpen,onUpdateUser=_ref.onUpdateUser,showLoading=_ref.showLoading;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];var currentUser=React.useContext(CurrentUserContext);React.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[isOpen,currentUser]);function handleNameChange(e){setName(e.target.value);}function handleDescriptionChange(e){setDescription(e.target.value);}function handleSubmit(e){e.preventDefault();// Передаём значения управляемых компонентов во внешний обработчик\nonUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"popup-profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",submitName:showLoading?'Сохранение...':'Сохранить',isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{required:true,id:\"name\",name:\"name\",type:\"text\",minLength:\"2\",maxLength:\"40\",className:\"popup__input\",placeholder:\"\\u0418\\u043C\\u044F\",value:name||\"\",onChange:handleNameChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error popup__error_visible name-error\"}),/*#__PURE__*/_jsx(\"input\",{required:true,id:\"job\",name:\"description\",type:\"text\",minLength:\"2\",maxLength:\"200\",className:\"popup__input\",placeholder:\"\\u041F\\u0440\\u043E\\u0444\\u0435\\u0441\\u0441\\u0438\\u043E\\u043D\\u0430\\u043B\\u044C\\u043D\\u0430\\u044F \\u0434\\u0435\\u044F\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C\",value:description||\"\",onChange:handleDescriptionChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error popup__error_visible job-error\"})]});}export default EditProfilePopup;","map":{"version":3,"sources":["/Users/varvarakorableva/Desktop/react-mesto-auth/src/components/EditProfilePopup.js"],"names":["React","PopupWithForm","CurrentUserContext","EditProfilePopup","onClose","isOpen","onUpdateUser","showLoading","useState","name","setName","description","setDescription","currentUser","useContext","useEffect","about","handleNameChange","e","target","value","handleDescriptionChange","handleSubmit","preventDefault"],"mappings":"sIAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAAQC,kBAAR,KAAiC,gCAAjC,C,wFAEA,QAASC,CAAAA,gBAAT,MAAwE,IAA7CC,CAAAA,OAA6C,MAA7CA,OAA6C,CAApCC,MAAoC,MAApCA,MAAoC,CAA5BC,YAA4B,MAA5BA,YAA4B,CAAdC,WAAc,MAAdA,WAAc,CACtE,oBAAwBP,KAAK,CAACQ,QAAN,CAAe,EAAf,CAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAAsCV,KAAK,CAACQ,QAAN,CAAe,EAAf,CAAtC,qDAAOG,WAAP,qBAAoBC,cAApB,qBACA,GAAMC,CAAAA,WAAW,CAAGb,KAAK,CAACc,UAAN,CAAiBZ,kBAAjB,CAApB,CAEAF,KAAK,CAACe,SAAN,CAAgB,UAAM,CACpBL,OAAO,CAACG,WAAW,CAACJ,IAAb,CAAP,CACAG,cAAc,CAACC,WAAW,CAACG,KAAb,CAAd,CAED,CAJD,CAIG,CAACX,MAAD,CAASQ,WAAT,CAJH,EAMA,QAASI,CAAAA,gBAAT,CAA0BC,CAA1B,CAA6B,CAC3BR,OAAO,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACD,CAED,QAASC,CAAAA,uBAAT,CAAiCH,CAAjC,CAAoC,CAClCN,cAAc,CAACM,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,CACD,CAED,QAASE,CAAAA,YAAT,CAAsBJ,CAAtB,CAAyB,CACvBA,CAAC,CAACK,cAAF,GACA;AACAjB,YAAY,CAAC,CACTG,IAAI,CAAJA,IADS,CAETO,KAAK,CAAEL,WAFE,CAAD,CAAZ,CAID,CAED,mBACE,MAAC,aAAD,EACE,IAAI,CAAC,eADP,CAEE,KAAK,CAAC,2HAFR,CAGE,UAAU,CAAEJ,WAAW,CAAG,eAAH,CAAqB,WAH9C,CAIE,MAAM,CAAEF,MAJV,CAKE,OAAO,CAAED,OALX,CAME,QAAQ,CAAEkB,YANZ,wBAOI,cACE,QAAQ,KADV,CAEE,EAAE,CAAC,MAFL,CAGE,IAAI,CAAC,MAHP,CAIE,IAAI,CAAC,MAJP,CAKE,SAAS,CAAC,GALZ,CAME,SAAS,CAAC,IANZ,CAOE,SAAS,CAAC,cAPZ,CAQE,WAAW,CAAC,oBARd,CASE,KAAK,CAAEb,IAAI,EAAI,EATjB,CAUE,QAAQ,CAAEQ,gBAVZ,EAPJ,cAkBI,aAAM,SAAS,CAAC,8CAAhB,EAlBJ,cAmBI,cACE,QAAQ,KADV,CAEE,EAAE,CAAC,KAFL,CAGE,IAAI,CAAC,aAHP,CAIE,IAAI,CAAC,MAJP,CAKE,SAAS,CAAC,GALZ,CAME,SAAS,CAAC,KANZ,CAOE,SAAS,CAAC,cAPZ,CAQE,WAAW,CAAC,2KARd,CASE,KAAK,CAAEN,WAAW,EAAI,EATxB,CAUE,QAAQ,CAAEU,uBAVZ,EAnBJ,cA8BI,aAAM,SAAS,CAAC,6CAAhB,EA9BJ,GADF,CAkCD,CAED,cAAelB,CAAAA,gBAAf","sourcesContent":["import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup({onClose, isOpen, onUpdateUser, showLoading}) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n    \n  }, [isOpen, currentUser]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }  \n\n  function handleSubmit(e) {\n    e.preventDefault();\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n        name,\n        about: description,\n    });\n  } \n\n  return (\n    <PopupWithForm \n      name=\"popup-profile\" \n      title=\"Редактировать профиль\"\n      submitName={showLoading ? 'Сохранение...' : 'Сохранить'}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}>\n        <input\n          required\n          id=\"name\"\n          name=\"name\"\n          type=\"text\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          className=\"popup__input\"\n          placeholder=\"Имя\" \n          value={name || \"\"} \n          onChange={handleNameChange}/>\n        <span className=\"popup__error popup__error_visible name-error\" />\n        <input\n          required\n          id=\"job\"\n          name=\"description\"\n          type=\"text\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          className=\"popup__input\"\n          placeholder=\"Профессиональная деятельность\" \n          value={description || \"\"}\n          onChange={handleDescriptionChange}/>\n        <span className=\"popup__error popup__error_visible job-error\" />\n    </PopupWithForm>\n  );\n}\n  \nexport default EditProfilePopup;"]},"metadata":{},"sourceType":"module"}