{"ast":null,"code":"export default class Api {\n  constructor(data) {\n    this._url = data.url;\n    this._headers = data.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  setUserInfo(userData) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: userData.name,\n        about: userData.about\n      })\n    }).then(this._checkResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      method: 'GET',\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  addUserCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    }).then(this._checkResponse);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  changeLikeStatus(id, isLiked) {\n    return fetch(`${this._url}/cards/${id}/likes`, {\n      method: `${isLiked ? 'PUT' : 'DELETE'}`,\n      headers: this._headers\n    }).then(this._checkResponse);\n  }\n\n  updateUserAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    }).then(this._checkResponse);\n  }\n\n}\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-38',\n  headers: {\n    authorization: '482a243d-811c-428c-9d72-a4802c45fd09',\n    'Content-Type': 'application/json'\n  }\n});\nexport { api };","map":{"version":3,"sources":["/Users/varvarakorableva/Desktop/react-mesto-auth/src/utils/Api.js"],"names":["Api","constructor","data","_url","url","_headers","headers","_checkResponse","res","ok","json","Promise","reject","status","getUserInfo","fetch","method","then","setUserInfo","userData","body","JSON","stringify","name","about","getInitialCards","addUserCard","link","deleteCard","id","changeLikeStatus","isLiked","updateUserAvatar","avatar","api","authorization"],"mappings":"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","sourcesContent":["\nexport default class Api{\n  constructor(data){\n    this._url = data.url;\n    this._headers = data.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method:'GET',\n      headers: this._headers\n    })\n    .then(this._checkResponse);\n  }\n\n  setUserInfo(userData) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: userData.name,\n        about: userData.about\n      })\n    })\n    .then(this._checkResponse);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      method:'GET',\n      headers: this._headers\n    })\n    .then(this._checkResponse);\n  }\n\n  addUserCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n      .then(this._checkResponse);\n  }\n\n  deleteCard(id) {\n    return fetch (`${this._url}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n      .then(this._checkResponse);\n  }\n\n  changeLikeStatus(id, isLiked) {\n    return fetch (`${this._url}/cards/${id}/likes`, {\n      method: `${isLiked ? 'PUT' : 'DELETE'}`,\n      headers: this._headers\n    })\n        .then(this._checkResponse);\n  }\n\n  updateUserAvatar(data) {\n    return fetch (`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar\n      })\n    })\n      .then(this._checkResponse);\n  }\n}\n\nconst api = new Api({\n  url:'https://mesto.nomoreparties.co/v1/cohort-38',\n  headers: {\n    authorization: '482a243d-811c-428c-9d72-a4802c45fd09',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport {api};\n"]},"metadata":{},"sourceType":"module"}